### **Explorer 设计文档**

#### **输入**：

* **具体的探索目标**：包括应用名称、应用大致介绍和要探索的功能。
* **当前状态**：应用处于首页。

#### **功能概述**：

Explorer Agent 负责执行功能探索，并根据预设的计划和动态变化调整执行策略。其主要功能如下：

1. **Plan（规划探索计划）**：

   * 根据LLM已知的世界知识（如应用功能结构、常见操作流程等），生成一个大致的探索计划。计划内容包括：

     * 探索步骤划分：将功能探索拆解为多个步骤，每个步骤对应一个具体目标。
     * 每个步骤的具体指令（Instruction）和子目标（Subgoal）。
   * 根据初步的探索计划，调用 **Action Decider** 进行动作执行。

2. **维护执行状态**：

   * 在每一步执行时，记录当前页面的状态，包括：

     * 页面截图、XML 文件（压缩后的）和文本文件（txt 文件），以及带红框标记的可交互元素。
     * 从首页到当前执行路径的完整记录（即 **Action Decider** 的输出）。
   * 通过这些记录，后续能够生成具体的测试计划，确保功能的全面覆盖。

3. **动态调整计划**：

   * 每执行一步后，若页面跳转至下一个界面，需要更新探索计划。
   * 页面跳转可能与初步设计的计划不完全符合，因此需要根据新的页面结构和界面元素，重新规划探索计划。
   * 在重新规划时，维护哪些计划已经完成，以及哪些新修改或生成的步骤尚未完成。

4. **可拓展性**

    * 我后续可能还需要增加状态保留，状态复原，状态树生成、构建等功能，给我留出空间。